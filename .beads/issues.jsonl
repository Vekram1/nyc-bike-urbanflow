{"id":"nyc-bike-urbanflow-0ag","title":"Contract fixtures + deterministic test suite","description":"PLAN.md sections: Contract test suite + fixtures; Tile serving and cache safety; Policy contract + determinism. Contract surfaces: tiles, policy. Cache-key impact: none (fixtures/tests only).","status":"closed","priority":1,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:23:35.340959-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-05T15:16:01.199211-05:00","closed_at":"2026-02-05T15:16:01.199211-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-0ag","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:55.065206-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-0ag","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.67172-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-0ag.1","title":"GBFS fixtures + parse hash tests","description":"Add GBFS raw byte fixtures, manifests, and parse hash tests. This protects deterministic parsing and ensures loader behavior is traceable to raw inputs. Include fixture metadata and hash algorithm rationale. Log parsing decisions and mismatches for debugging.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:25:29.953815-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-04T18:25:19.934011-05:00","closed_at":"2026-02-04T18:25:19.934011-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-0ag.1","depends_on_id":"nyc-bike-urbanflow-0ag","type":"parent-child","created_at":"2026-01-30T15:25:29.954617-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-0ag.1","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.750344-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":21,"issue_id":"nyc-bike-urbanflow-0ag.1","author":"Vekram1","text":"PLAN.md §§1.2-1.4 (raw archive, manifests, hash determinism). Contract surfaces touched: none. Cache-key impact: no.","created_at":"2026-02-04T23:25:02Z"}]}
{"id":"nyc-bike-urbanflow-0ag.2","title":"Trips mini-month fixtures + aggregate checks","description":"Add sanitized trips mini-month fixture and aggregate checksum tests. This validates trips baseline aggregation logic without requiring large datasets. Include notes on privacy redaction and expected aggregates. Log checksum mismatches with context for quick diagnosis.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:25:36.276403-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-05T13:38:46.253737-05:00","closed_at":"2026-02-05T13:38:46.253737-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-0ag.2","depends_on_id":"nyc-bike-urbanflow-0ag","type":"parent-child","created_at":"2026-01-30T15:25:36.277485-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-0ag.2","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.829961-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":22,"issue_id":"nyc-bike-urbanflow-0ag.2","author":"Vekram1","text":"PLAN.md §§2.1-2.2 (trips archive + normalize), §3.3 (trip baselines). Contract surfaces touched: none. Cache-key impact: no.","created_at":"2026-02-05T18:38:31Z"}]}
{"id":"nyc-bike-urbanflow-0ag.3","title":"Tile contract assertions","description":"Add tile contract assertions for required properties, feature counts, and deterministic outputs at fixed bbox/z/T_bucket/sv. This is the contract safety net for tile schema changes. Include rationale for expected counts and schema fields. Log discrepancies with full request context.","status":"blocked","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:25:42.621111-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-05T13:43:12.220647-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-0ag.3","depends_on_id":"nyc-bike-urbanflow-0ag","type":"parent-child","created_at":"2026-01-30T15:25:42.621897-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-0ag.3","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.911867-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":23,"issue_id":"nyc-bike-urbanflow-0ag.3","author":"Vekram1","text":"Blocked: no tile schema/code present yet (no packages/api/src/tiles or shared tile-schema). Need tile contract fixtures + tile schema definitions before assertions can be added.","created_at":"2026-02-05T18:42:55Z"}]}
{"id":"nyc-bike-urbanflow-0ag.4","title":"Policy fixtures + determinism tests","description":"Create policy fixtures for greedy v1 and deterministic replay tests. Fixtures should include representative neighborhood layouts and capacity profiles to exercise tie-break rules. Log fixture hashes and expected outputs so regressions are visible. This complements unit tests with deterministic contract checks.","status":"blocked","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:25:46.81103-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-05T13:58:16.469894-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-0ag.4","depends_on_id":"nyc-bike-urbanflow-0ag","type":"parent-child","created_at":"2026-01-30T15:25:46.811796-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-0ag.4","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.990174-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":27,"issue_id":"nyc-bike-urbanflow-0ag.4","author":"Vekram1","text":"Blocked: packages/policy has no implementation yet (only .gitkeep). Need policy engine + schemas before determinism tests/fixtures can be added.","created_at":"2026-02-05T18:57:56Z"}]}
{"id":"nyc-bike-urbanflow-1aq","title":"Introduce Codex agent on Agent Mail","description":"Task: send an Agent Mail intro message to the other agent. PLAN.md sections: none (coordination only). Contract surface: none. Cache-key impact: no.","status":"in_progress","priority":3,"issue_type":"task","assignee":"Vekram1","owner":"oddirajuvikram@gmail.com","created_at":"2026-01-31T11:00:21.148759-05:00","created_by":"Vekram1","updated_at":"2026-01-31T11:00:40.366628-05:00"}
{"id":"nyc-bike-urbanflow-2zn","title":"Loader normalization + SCD updates","description":"Normalize raw manifests into snapshot tables and station SCD history with strict idempotency. This transforms raw bytes into serving-grade records while preserving monotonic repair and bucket_quality flags. Rationale: tiles and severity must be deterministic and traceable back to source. Include detailed logs for snapshot hashes, dedupe decisions, and SCD lifecycle transitions.","status":"closed","priority":1,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:21:10.564774-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-04T18:15:07.228096-05:00","closed_at":"2026-02-04T18:15:07.228096-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-2zn","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:21:10.56562-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-2zn","depends_on_id":"nyc-bike-urbanflow-3jd","type":"blocked-by","created_at":"2026-01-30T15:21:10.566591-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-2zn","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocked-by","created_at":"2026-01-30T15:21:10.567484-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-2zn","depends_on_id":"nyc-bike-urbanflow-zjr","type":"blocked-by","created_at":"2026-01-30T15:21:10.568107-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-2zn","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.279235-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-2zn","depends_on_id":"nyc-bike-urbanflow-3jd","type":"blocks","created_at":"2026-01-30T16:15:53.589651-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-2zn","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocks","created_at":"2026-01-30T16:15:53.670163-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-2zn","depends_on_id":"nyc-bike-urbanflow-zjr","type":"blocks","created_at":"2026-01-30T16:15:53.752189-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":19,"issue_id":"nyc-bike-urbanflow-2zn","author":"Vekram1","text":"PLAN.md §§1.2-1.4 (raw archive, normalize, idempotency), station SCD guidance. Contract surfaces touched: none (ingest/loader only). Cache-key impact: no.","created_at":"2026-02-04T23:12:21Z"}]}
{"id":"nyc-bike-urbanflow-2zn.1","title":"Loader idempotency + serving-grade flags","description":"Implement loader write semantics: logical_snapshot canonicalization, bucket_quality computation, and monotonic repair handling. This is the heart of deterministic ingestion; it ensures repeated runs yield identical results for the same raw inputs. Document edge cases (missing fields, stale feeds) and how flags are derived. Provide granular logs for repair paths and quality downgrades.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:24:27.180043-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-04T18:20:42.113344-05:00","closed_at":"2026-02-04T18:20:42.113344-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-2zn.1","depends_on_id":"nyc-bike-urbanflow-2zn","type":"parent-child","created_at":"2026-01-30T15:24:27.18093-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-2zn.1","depends_on_id":"nyc-bike-urbanflow-3jd","type":"blocks","created_at":"2026-01-30T16:18:25.914859-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-2zn.1","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocks","created_at":"2026-01-30T16:18:25.994666-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":20,"issue_id":"nyc-bike-urbanflow-2zn.1","author":"Vekram1","text":"PLAN.md §§1.3-1.4 (normalize, idempotency, monotonicity). Contract surfaces touched: none. Cache-key impact: no.","created_at":"2026-02-04T23:20:04Z"}]}
{"id":"nyc-bike-urbanflow-3jd","title":"GBFS fetcher + raw archive + manifests","description":"Build the GBFS fetcher and raw archive pipeline that preserves source-of-truth bytes. Use system registry to discover feeds and store content-addressed objects plus manifests so later loaders can replay deterministically. Rationale: reproducibility and auditability require immutable raw objects and explicit parser fingerprints. Include logging for fetch cadence, TTL handling, response hashes, and storage keys; ensure unknown systems are rejected to keep keyspace bounded.\n\nPLAN sections: Data ingestion and raw archive; Design principles \u0026 invariants; Multi-system model; Serving views and reproducibility.\nContract surface touched: none (ingest/archival only).\nCache-key impact: no.\n","status":"closed","priority":1,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:21:03.023799-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-04T17:49:09.463912-05:00","closed_at":"2026-02-04T17:49:09.463912-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-3jd","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:21:03.024805-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3jd","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocked-by","created_at":"2026-01-30T15:21:03.025434-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3jd","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.223906-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3jd","depends_on_id":"nyc-bike-urbanflow-l3m","type":"blocks","created_at":"2026-01-30T16:19:39.522514-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":16,"issue_id":"nyc-bike-urbanflow-3jd","author":"Vekram1","text":"Adding packages/ingest GBFS collector + raw archive pipeline (content-addressed objects + manifest files). Includes discovery, fetch, manifest creation, and registry validation (unknown system_id rejected). Logs per-feed fetch outcome. PLAN: data ingestion/raw archive; reproducibility. Contract surface: none. Cache-key impact: no.","created_at":"2026-02-04T22:48:41Z"}]}
{"id":"nyc-bike-urbanflow-3jd.1","title":"GBFS feed discovery + ttl polling","description":"Implement gbfs.json discovery and TTL-based polling scheduler for each system_id. This task sets the cadence and guards against runaway fetch storms by honoring feed TTLs and backoff. Include logs for schedule decisions, skipped polls, and unexpected TTL values. This is intentionally separate so discovery logic is testable in isolation.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:24:17.080598-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-04T17:54:53.6443-05:00","closed_at":"2026-02-04T17:54:53.6443-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-3jd.1","depends_on_id":"nyc-bike-urbanflow-3jd","type":"parent-child","created_at":"2026-01-30T15:24:17.081579-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3jd.1","depends_on_id":"nyc-bike-urbanflow-l3m","type":"blocks","created_at":"2026-01-30T16:18:25.671817-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":17,"issue_id":"nyc-bike-urbanflow-3jd.1","author":"Vekram1","text":"Added GBFS polling loop: packages/ingest/src/gbfs/poller.ts with TTL-based scheduling, min/max TTL clamp, jitter, and backoff on errors. CLI now supports --poll plus ttl/jitter flags. Exported runGbfsPoller from package index.","created_at":"2026-02-04T22:54:28Z"}]}
{"id":"nyc-bike-urbanflow-3jd.2","title":"Raw object storage + manifest writer","description":"Write content-addressed raw objects and manifests that record parser_fingerprint, loader_schema_version, and source metadata. The manifest is the canonical link between raw bytes and downstream loader behavior. Include checksums and size metadata so integrity can be validated later. Logs should include object keys, hash algorithms used, and any dedup hits.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:24:22.379064-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-04T18:00:04.630142-05:00","closed_at":"2026-02-04T18:00:04.630142-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-3jd.2","depends_on_id":"nyc-bike-urbanflow-3jd","type":"parent-child","created_at":"2026-01-30T15:24:22.380588-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3jd.2","depends_on_id":"nyc-bike-urbanflow-3jd.1","type":"blocks","created_at":"2026-01-30T16:18:25.755674-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3jd.2","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocks","created_at":"2026-01-30T16:18:25.835301-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":18,"issue_id":"nyc-bike-urbanflow-3jd.2","author":"Vekram1","text":"Enhanced raw object storage logging: writeRawObject now returns deduped flag; collector logs gbfs_raw_object_deduped with hash algo + path and includes raw_object_deduped in gbfs_feed_fetched. Manifest writer unchanged (content-addressed, write-if-missing).","created_at":"2026-02-04T22:59:41Z"}]}
{"id":"nyc-bike-urbanflow-3ln","title":"Greedy policy engine v1 + specs","description":"Implement greedy policy engine v1 and spec schema with deterministic tie-breaks. This encodes operational constraints and budgets; any semantic change requires a policy_version bump and spec hash update. Include logging per decision bucket with reasons for moves and rejected candidates. Document conservation guarantees and how missing data is handled.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:22:18.634118-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:22.04172-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-3ln","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:22:18.635093-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3ln","depends_on_id":"nyc-bike-urbanflow-i6o","type":"blocked-by","created_at":"2026-01-30T15:22:18.635897-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3ln","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocked-by","created_at":"2026-01-30T15:22:18.636919-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3ln","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.67461-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3ln","depends_on_id":"nyc-bike-urbanflow-i6o","type":"blocks","created_at":"2026-01-30T16:16:55.644947-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-3ln","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocks","created_at":"2026-01-30T16:16:55.723816-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-4pr","title":"Frontend HUD shell scaffolding (mock state, backend-independent)","description":"Build frontend-only HUD shell scaffolding under apps/web/src/** with mock/local state and no backend API dependency. PLAN refs: Core UI contract + HUD overlays + MapShell single-mount invariants (UI scaffolding only, no data-plane contract changes). Contract surface touched: control plane (none, UI-only). Cache-key impact: no.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","owner":"oddirajuvikram@gmail.com","created_at":"2026-02-06T14:04:04.237388-05:00","created_by":"Vekram1","updated_at":"2026-02-06T14:14:57.669596-05:00","closed_at":"2026-02-06T14:14:57.669596-05:00","close_reason":"Completed"}
{"id":"nyc-bike-urbanflow-4z6","title":"Bead graph review + optimization","description":"Audit the bead graph for correctness, missing dependencies, or sequencing risks before implementation begins. Goal: make plan space self-documenting so each task has enough background, reasoning, and acceptance intent to be executed safely without re-reading PLAN.md. Do not remove features; instead refine descriptions and dependency edges to enforce ordering and contract discipline. Document any tradeoffs or rationale when adjusting deps (e.g., avoid cycles by using child tasks instead of parent gating).","status":"in_progress","priority":2,"issue_type":"task","assignee":"vikramoddiraju","created_at":"2026-01-30T16:13:29.230465-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:05.957958-05:00"}
{"id":"nyc-bike-urbanflow-502","title":"Frontend HUD state model + mock adapters","description":"Implement a frontend-only state model for HUD controls and mock adapters for clock/stats/scrubber/layer state in apps/web/src/**. Keep backend/API decoupled. PLAN refs: Core UI contract, HUD overlays, inspect pause-lock behavior. Contract surface: none (UI-only). Cache-key impact: no.","status":"in_progress","priority":2,"issue_type":"task","assignee":"Vekram1","owner":"oddirajuvikram@gmail.com","created_at":"2026-02-06T14:21:57.800882-05:00","created_by":"Vekram1","updated_at":"2026-02-06T14:22:14.608521-05:00"}
{"id":"nyc-bike-urbanflow-58v","title":"Introduce Codex agent on MCP Agent Mail","description":"Introduce Codex agent in MCP Agent Mail for coordination. PLAN.md sections: none (ops-only). Contract surface: none. Cache-key impact: no.","status":"closed","priority":3,"issue_type":"task","assignee":"Vekram1","owner":"oddirajuvikram@gmail.com","created_at":"2026-01-31T11:00:29.279051-05:00","created_by":"Vekram1","updated_at":"2026-01-31T11:01:53.298502-05:00","closed_at":"2026-01-31T11:01:53.298502-05:00","close_reason":"Completed"}
{"id":"nyc-bike-urbanflow-5gw","title":"Control plane endpoints (time/config/timeline/search)","description":"Implement control plane endpoints: /api/time, /api/config, /api/timeline, /api/timeline/density, /api/search. These endpoints are the only path to mint current sv tokens and must enforce allowlists and system registry constraints. Provide structured logs for sv issuance, allowlist hits, and request bounds. Rationale: keep control plane stable and lightweight while protecting the data plane from unbounded queries.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:21:46.04394-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:50.438652-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-5gw","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.563662-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-5gw","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:16:14.027605-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-5gw","depends_on_id":"nyc-bike-urbanflow-lav.1","type":"blocks","created_at":"2026-01-30T16:16:14.106077-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-5gw","depends_on_id":"nyc-bike-urbanflow-l3m","type":"blocks","created_at":"2026-01-30T16:16:14.185344-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-5um","title":"Introduce on Agent Mail","description":"Send introductory Agent Mail message to other agent. No contract surfaces touched; no cache-key impact.","status":"closed","priority":3,"issue_type":"task","assignee":"Vekram1","owner":"oddirajuvikram@gmail.com","created_at":"2026-01-31T11:41:45.108335-05:00","created_by":"Vekram1","updated_at":"2026-01-31T11:42:50.315731-05:00","closed_at":"2026-01-31T11:42:50.315731-05:00","close_reason":"Completed"}
{"id":"nyc-bike-urbanflow-91i","title":"Elaborate PLAN.md and generate full bead graph","description":"Capture the detailed PLAN narrative and reasoning so the bead graph is traceable back to product goals and constraints. The deliverable is a fully elaborated PLAN.md plus a bead graph that mirrors the architecture (ingest -\u003e serving views -\u003e tiles -\u003e web/policy). This issue exists to prevent implicit assumptions from being lost once implementation begins. Include notes on tiles-first degrade behavior, sv token minting rules, allowlists, and determinism so later tasks can cite them explicitly.","status":"in_progress","priority":1,"issue_type":"task","assignee":"vikramoddiraju","created_at":"2026-01-30T15:19:19.75726-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:05.901467-05:00"}
{"id":"nyc-bike-urbanflow-9gd","title":"Policy plane endpoints + policy move tiles","description":"Implement policy plane endpoints (/api/policy/config/run/moves) with async 202 behavior and policy_moves tiles. This must be sv-bound and queue-backed to keep control plane responsive. Include detailed logs for cache hits, enqueue decisions, and policy_spec hashes. Document retry and idempotency behavior so clients can safely poll.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:22:39.678966-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:22.151693-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-9gd","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:22:39.679845-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-9gd","depends_on_id":"nyc-bike-urbanflow-9pz","type":"blocked-by","created_at":"2026-01-30T15:22:39.68065-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-9gd","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocked-by","created_at":"2026-01-30T15:22:39.681294-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-9gd","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.788447-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-9gd","depends_on_id":"nyc-bike-urbanflow-9pz","type":"blocks","created_at":"2026-01-30T16:16:55.964862-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-9gd","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:16:56.047124-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-9gd","depends_on_id":"nyc-bike-urbanflow-zjr","type":"blocks","created_at":"2026-01-30T16:16:56.128965-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-9pz","title":"Policy outputs + evaluation marts","description":"Create policy_runs, policy_moves, policy_counterfactual_status, and policy_eval_daily marts to support evaluation and replay. This provides persistent, queryable outputs for analysis and UI overlays. Document schema rationale, indexing, and how sv and policy_version are embedded in keys. Include logs for mart refresh timings and row deltas.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:22:25.3944-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:22.096274-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-9pz","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.730938-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-9pz","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocks","created_at":"2026-01-30T16:16:55.804418-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-9pz","depends_on_id":"nyc-bike-urbanflow-3ln","type":"blocks","created_at":"2026-01-30T16:16:55.883364-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-a7t","title":"Introduce agent on Agent Mail","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","owner":"oddirajuvikram@gmail.com","created_at":"2026-02-05T15:00:38.009182-05:00","created_by":"Vekram1","updated_at":"2026-02-05T15:01:54.893483-05:00","closed_at":"2026-02-05T15:01:54.893483-05:00","close_reason":"Completed"}
{"id":"nyc-bike-urbanflow-a85","title":"Station drawer Tier1/Tier2 + evidence bundle","description":"Implement station drawer Tier1 and Tier2 flows: Tier1 is tile-only and instant, Tier2 is a bounded evidence bundle. This preserves the inspect UX requirement (no origin call to open said drawer). Document debounce rules for Tier2 fetch and size caps for evidence bundles. Log Tier1 vs Tier2 decisions and bundle sizes for monitoring.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:22:58.687656-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:40.237499-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-a85","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.899377-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-a85","depends_on_id":"nyc-bike-urbanflow-gtk.10","type":"blocks","created_at":"2026-01-30T16:16:44.881159-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-a85","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:16:44.961679-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-a85","depends_on_id":"nyc-bike-urbanflow-skp","type":"blocks","created_at":"2026-01-30T16:17:47.348746-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-a85.1","title":"Station drawer Tier1 (tile-only)","description":"Implement Tier1 tile-only inspect panel showing name, capacity, bikes, docks, bucket_quality, and T_bucket. This must not trigger origin calls and must freeze playback while open. Document UI behavior and data provenance (tile props). Log when Tier1 opens and closes to validate inspect lock.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:25:05.752555-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:40.292571-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-a85.1","depends_on_id":"nyc-bike-urbanflow-a85","type":"parent-child","created_at":"2026-01-30T15:25:05.753902-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-a85.1","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:18:26.403976-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-a85.2","title":"Station drawer Tier2 evidence bundle","description":"Implement Tier2 evidence bundle endpoint /api/stations/{station_key}/drawer with bounded series, episodes, and severity components. Bind cache keys to sv and T_bucket and enforce strict limits. Document why each field is included to keep payloads lean. Log bundle sizes and truncation behavior.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:25:12.061473-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:40.349189-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-a85.2","depends_on_id":"nyc-bike-urbanflow-a85","type":"parent-child","created_at":"2026-01-30T15:25:12.0623-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-a85.2","depends_on_id":"nyc-bike-urbanflow-gtk.10","type":"blocks","created_at":"2026-01-30T16:18:26.487138-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-an0","title":"Serving aggregates (status_1m, severity_5m, pressure_now)","description":"Create serving aggregates for inventory status (1m), severity (5m), and pressure_now with bucket_quality and source_as_of lineage. These aggregates are the canonical inputs to composite tiles and must be deterministic by bucket. Include refresh cadence, lag metrics, and logging for bucket_quality counts to support degrade decisions. Explicitly document which inputs bind to sv so cache keys remain immutable.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:21:24.672164-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:32.900707-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-an0","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:21:24.67312-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-an0","depends_on_id":"nyc-bike-urbanflow-2zn","type":"blocked-by","created_at":"2026-01-30T15:21:24.674146-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-an0","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocked-by","created_at":"2026-01-30T15:21:24.674705-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-an0","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.391792-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-an0","depends_on_id":"nyc-bike-urbanflow-2zn","type":"blocks","created_at":"2026-01-30T16:15:53.98816-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-an0","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:15:54.071681-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-av9","title":"Core DB schema + migrations (snapshots, station tables)","description":"Create the foundational DB schema and migrations for snapshots, station info/status, SCD history, lifecycle, and raw manifests. This is the canonical data plane that all serving views and tiles depend on; ensure deterministic columns and stable identifiers to avoid downstream cache drift. Include migration notes on indexes, GiST usage, and data model rationale so future schema changes remain contract-safe. Keep changes minimal and explicit to preserve reproducibility.","status":"closed","priority":1,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:20:48.061745-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-31T12:18:35.130356-05:00","closed_at":"2026-01-31T12:18:35.130356-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-av9","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:20:48.062634-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-av9","depends_on_id":"nyc-bike-urbanflow-l3m","type":"blocked-by","created_at":"2026-01-30T15:20:48.06337-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-av9","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.113879-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":1,"issue_id":"nyc-bike-urbanflow-av9","author":"Vekram1","text":"Added migration draft in sql/migrations/0001_core_schema.sql for logical_snapshots, fetch_attempts, raw_manifests, snapshot_station_information/status, stations_scd, station_lifecycle. PLAN: Phase 1 normalize + data model; contract surfaces: tiles/severity depend on fields; cache-key impact: indirect (none).","created_at":"2026-01-31T17:00:40Z"},{"id":2,"issue_id":"nyc-bike-urbanflow-av9","author":"Vekram1","text":"Added reliability/safety checks and dedupe: systems bounds checks, non-negative bytes/duration, lat/lon + capacity \u003e=0, bikes/docks \u003e=0, observation_ts \u003e= observation_ts_raw; raw_manifests dedupe index (system_id, feed_name, publisher_last_updated, loader_schema_version).","created_at":"2026-01-31T17:16:59Z"}]}
{"id":"nyc-bike-urbanflow-ch2","title":"Admin UI minimal ops panel","description":"Create a minimal admin ops panel for queue and DLQ status, degrade history, and resolution notes behind admin auth. This supports operational response without exposing raw data or weakening CORS. Document which metrics are safe to show and how they are derived. Include logs for admin access and view rendering.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:23:25.829687-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:26:11.389359-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-ch2","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:55.009539-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-ch2","depends_on_id":"nyc-bike-urbanflow-lav","type":"blocks","created_at":"2026-01-30T16:16:56.209557-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-ch2","depends_on_id":"nyc-bike-urbanflow-zjr","type":"blocks","created_at":"2026-01-30T16:16:56.290065-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-ch2","depends_on_id":"nyc-bike-urbanflow-gtk.18","type":"blocks","created_at":"2026-01-30T16:16:56.371243-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-dy7","title":"Composite tile service + tile schema v1","description":"Implement composite tile service using tile_schema=tile.v1 with strict property tiers, feature caps, and deterministic SQL. This is the highest-risk data plane surface, so enforce fixed SQL shapes, GiST-friendly spatial filters, and immutable cache keys (z/x/y/T_bucket/sv/tile_schema/layers). Include logs for feature counts, bytes, and query timings to track p95 budgets. Document how optional properties are dropped under max-bytes pressure without changing schema semantics.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:21:39.344651-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:57.740106-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-dy7","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:21:39.346344-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocked-by","created_at":"2026-01-30T15:21:39.347413-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocked-by","created_at":"2026-01-30T15:21:39.348431-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.506009-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocks","created_at":"2026-01-30T16:16:13.472524-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:16:13.552245-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7","depends_on_id":"nyc-bike-urbanflow-gtk.19","type":"blocks","created_at":"2026-01-30T16:16:13.631423-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-dy7.1","title":"Composite tile SQL + MVT encoding","description":"Implement canonical tile SQL and MVT encoding rules (extent/buffer) with deterministic feature ordering and caps. This defines the tile schema semantics; any future change requires tile_schema_version bump. Include reasoning for caps, ordering, and geometry simplification. Log explain or timing info for baseline performance tracking.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:24:34.295363-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:57.808048-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-dy7.1","depends_on_id":"nyc-bike-urbanflow-dy7","type":"parent-child","created_at":"2026-01-30T15:24:34.296072-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7.1","depends_on_id":"nyc-bike-urbanflow-gtk.19","type":"blocks","created_at":"2026-01-30T16:16:13.711113-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7.1","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocks","created_at":"2026-01-30T16:16:13.791024-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-dy7.2","title":"Tile cache headers + sv keying","description":"Implement cache headers for live vs sv-pinned tiles and enforce immutable cache keys that include tile_schema and sv. This keeps caches correct and prevents keyspace abuse. Include documentation of Cache-Control semantics (SWR, max-age) and when tiles are eligible for write-through replay. Log cache header decisions so behavior is auditable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:24:41.113503-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:57.868063-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-dy7.2","depends_on_id":"nyc-bike-urbanflow-dy7","type":"parent-child","created_at":"2026-01-30T15:24:41.115227-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7.2","depends_on_id":"nyc-bike-urbanflow-dy7.1","type":"blocks","created_at":"2026-01-30T16:16:13.869742-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-dy7.2","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:16:13.948317-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk","title":"UrbanFlow Twin roadmap","description":"Epic that anchors the full PLAN.md implementation. Purpose: keep tiles-first, sv-token reproducibility, bounded keyspace, and determinism intact while sequencing ingestion, serving planes, policy plane, and web HUD. Use this epic to attach dependencies so downstream work cannot bypass contract surfaces or cache-key rules. Acceptance mindset: every child task should mention contract surface, cache-key impact, and logging/tests so future maintainers know why it exists and how it protects the project goals.","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2026-01-30T15:20:29.639707-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T22:06:09.778669-05:00"}
{"id":"nyc-bike-urbanflow-gtk.1","title":"Severity spec v1 + schema","description":"Define severity spec v1 as a versioned, schema-validated artifact stored in DB. This spec drives severity_version semantics and must be immutable for reproducibility. Include rationale for weights/windows, how missing data is handled, and how spec hashes are computed. Update allowlists to include the new severity_version and log spec registration events.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:32:07.893324-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:32.957709-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.1","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:32:07.896829-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.1","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocks","created_at":"2026-01-30T16:15:54.156578-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.1","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:15:54.23648-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.10","title":"Station endpoints + series API","description":"Implement station detail and series endpoints with sv-bound cache keys and strict bounds on time ranges. This supports the inspect drawer while keeping control plane lightweight and abuse-resistant. Document evidence bundle limits and how series windows are chosen. Include structured logs for station_key, range, cache hits, and error codes.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:48:18.803304-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:40.179236-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.10","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:48:18.804177-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.10","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocks","created_at":"2026-01-30T16:16:44.613439-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.10","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:16:44.717302-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.10","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:16:44.800053-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.11","title":"Ingest health metrics + SLO alerts","description":"Implement ingest health metrics (15m and daily) with SLO thresholds for lag, gaps, and duplicates. This provides operational visibility without adding heavy infra, and feeds control plane health outputs. Document SLO rationale and how thresholds map to degrade signals. Include logs for metric refresh and SLO breaches.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:50:46.129177-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-05T13:55:11.163872-05:00","closed_at":"2026-02-05T13:55:11.163872-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.11","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:50:46.133115-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":26,"issue_id":"nyc-bike-urbanflow-gtk.11","author":"Vekram1","text":"PLAN.md §§1.3 (lag/ops), §752-764 (ingest health metrics + SLOs). Contract surfaces touched: none. Cache-key impact: no.","created_at":"2026-02-05T18:54:56Z"}]}
{"id":"nyc-bike-urbanflow-gtk.12","title":"Reliability marts + episodes tables","description":"Build reliability marts and episode tables (empty or full minutes, recovery episodes) with sv lineage and mart headers. These power episode overlays and long-term reliability analysis. Document the episode definition, rollup windows, and any exclusion rules. Include logs for mart recompute timing and delta KPIs so changes are reviewable.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:50:54.274383-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:26:11.331833-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.12","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:50:54.27532-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.12","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocks","created_at":"2026-01-30T16:16:43.575591-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.12","depends_on_id":"nyc-bike-urbanflow-2zn","type":"blocks","created_at":"2026-01-30T16:16:43.654453-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.12","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:16:43.73572-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.13","title":"Episodes overlay tiles","description":"Create episode_markers_15m table and /api/tiles/episodes overlay tiles for reliability episodes. This provides a clear overlay layer in the UI and must be sv-bound and capped like other tiles. Document the episode definition and any thresholds so future updates are intentional. Log marker counts and bounds per tile for monitoring.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:51:05.710139-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:09.903112-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.13","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:51:05.711039-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.13","depends_on_id":"nyc-bike-urbanflow-gtk.12","type":"blocks","created_at":"2026-01-30T16:16:43.815242-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.13","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:16:43.894006-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.13","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:16:43.973714-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.14","title":"Pressure baseline tiles + sv binding","description":"Serve pressure baseline tiles from trips-derived station_pressure_15m and expose properties in composite tiles with tiering. Bind to sv so baseline view is reproducible and cacheable. Document how labels and units are presented in the UI to avoid confusion with live pressure. Log tile counts and byte sizes to validate caps.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:51:28.270734-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:09.773688-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.14","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:51:28.271522-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.14","depends_on_id":"nyc-bike-urbanflow-mzx","type":"blocks","created_at":"2026-01-30T16:16:44.054008-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.14","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:16:44.134737-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.14","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:16:44.214648-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.15","title":"Live pressure proxy pipeline","description":"Compute live pressure proxy (station_pressure_now_5m) from station_status deltas with volatility and rebalancing heuristics. This gives users a near-real-time signal without violating Profile A constraints. Document heuristic rationale and ensure values are deterministic by bucket. Include logs for heuristic flags and aggregate refresh timing.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:51:35.025336-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:09.840891-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.15","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:51:35.026248-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.15","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocks","created_at":"2026-01-30T16:16:44.294112-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.15","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:16:44.37314-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.16","title":"Compare mode delta tiles + split view support","description":"Implement compare-mode delta tiles (inventory and severity) and split view support with T2_bucket. This enables side-by-side comparisons without remounting the map and must remain bounded by allowlists. Document how T2_bucket is derived and how tile URLs remain immutable. Include logs for compare requests and delta computation cost.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:51:49.245457-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:09.965493-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.16","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:51:49.246484-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.16","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:16:44.452825-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.16","depends_on_id":"nyc-bike-urbanflow-skp","type":"blocks","created_at":"2026-01-30T16:16:44.53433-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.17","title":"sv storage tables + token rotation","description":"Create sv storage tables (serving_views, serving_tokens) and implement key rotation with kid-based validation. This is the trust anchor for reproducible serving views and bounded cache keys; tokens must be opaque to clients and verifiable at the edge. Include expiry policy, rotation strategy, and audit logging for mint/validate failures. Document how sv binds to dataset watermarks so tiles are immutable identifiers.","status":"closed","priority":1,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:52:00.537491-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-02T14:33:49.482309-05:00","closed_at":"2026-02-02T14:33:49.482309-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.17","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:52:00.538356-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.17","depends_on_id":"nyc-bike-urbanflow-l3m","type":"blocks","created_at":"2026-01-30T16:15:53.432499-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.17","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocks","created_at":"2026-01-30T16:15:53.510792-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":3,"issue_id":"nyc-bike-urbanflow-gtk.17","author":"Vekram1","text":"Added sql/migrations/0002_serving_views_tokens.sql with serving_views, serving_keys (kid rotation state), serving_tokens (token hash + expiry), and serving_token_audit tables + indexes/checks. No raw token storage. PLAN: sv registry + rotation/audit. Contract surface: sv. Cache-key impact: yes (sv namespace).","created_at":"2026-02-02T18:52:40Z"},{"id":4,"issue_id":"nyc-bike-urbanflow-gtk.17","author":"Vekram1","text":"Added config/serving_views.md documenting sv contents, rotation policy, expiry, and audit codes. Added CHECK on serving_keys.algo (HS256/HS512).","created_at":"2026-02-02T18:54:32Z"},{"id":5,"issue_id":"nyc-bike-urbanflow-gtk.17","author":"Vekram1","text":"Implemented sv mint/validate logic skeleton in packages/api/src/sv (HMAC token format sv1.kid.payload.sig, hash-based lookup, key status checks, audit events). No DB wiring yet; uses ServingTokenStore interface.","created_at":"2026-02-02T18:59:03Z"},{"id":6,"issue_id":"nyc-bike-urbanflow-gtk.17","author":"Vekram1","text":"Added PgServingTokenStore (packages/api/src/sv/store.ts) using generic SqlExecutor + key material provider; supports serving_keys/tokens/audit tables. Added packages/api/src/db/types.ts and exports.","created_at":"2026-02-02T19:15:05Z"}]}
{"id":"nyc-bike-urbanflow-gtk.18","title":"Network health summary + degrade signals","description":"Add network health summary to /api/time with active or empty or full counts, pct_serving_grade, degrade_level, and client_should_throttle hints. This is the UX safety valve so the UI can adapt when the data plane degrades first. Include reasoning for thresholds and how degrade_level is computed from security controls. Log every degrade signal and include provenance for the counts.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:52:07.527508-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:50.556688-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.18","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:52:07.528373-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.18","depends_on_id":"nyc-bike-urbanflow-an0","type":"blocks","created_at":"2026-01-30T16:16:43.413793-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.18","depends_on_id":"nyc-bike-urbanflow-lav","type":"blocks","created_at":"2026-01-30T16:16:43.49465-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.19","title":"Stations_current + station_now views","description":"Build stations_current and station_now views/materializations that power fast tile queries and station detail endpoints. Use GiST indexes and active or retired flags so tiles can filter deterministically and quickly. Rationale: tiles must have canonical SQL shapes with stable property sets and should not join dynamic tables. Include notes on refresh strategy, acceptable staleness, and logging for refresh timing.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:56:02.7615-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-05T13:45:21.9757-05:00","closed_at":"2026-02-05T13:45:21.9757-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.19","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:56:02.765706-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.19","depends_on_id":"nyc-bike-urbanflow-2zn","type":"blocks","created_at":"2026-01-30T16:15:53.830508-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.19","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocks","created_at":"2026-01-30T16:15:53.911567-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":24,"issue_id":"nyc-bike-urbanflow-gtk.19","author":"Vekram1","text":"PLAN.md §§1.3 (stations_current, station_now views). Contract surfaces touched: none. Cache-key impact: no.","created_at":"2026-02-05T18:45:05Z"}]}
{"id":"nyc-bike-urbanflow-gtk.2","title":"Replay tile generation + write-through storage","description":"Implement replay tile precompute and write-through caching to object storage for sv-pinned keys. This supports low-cost replay and reduces origin load by serving immutable artifacts. Document cache hierarchy and retention rules, plus any hooks for optional tilepack generation. Log write-through events and object keys for traceability.","status":"blocked","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:32:15.522141-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-05T14:14:18.39639-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.2","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:32:15.523015-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":28,"issue_id":"nyc-bike-urbanflow-gtk.2","author":"Vekram1","text":"Blocked: no tile generation code or tile schema modules exist yet (packages/api/src/tiles missing). Need tile schema + rendering pipeline before replay tile precompute/write-through can be implemented.","created_at":"2026-02-05T19:13:58Z"}]}
{"id":"nyc-bike-urbanflow-gtk.20","title":"Allowlist seed + config export","description":"Seed allowlist entries and expose allowlist-derived values in /api/config so clients cannot invent cache-key dimensions. This makes the config endpoint the authoritative source for valid system_id, tile_schema, severity_version, policy_version, layers_set, and compare_mode values. Include rationale for any defaults and version changes, plus logging for config exports. This task ensures the UI can only request bounded keys.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:56:10.809652-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:24:50.498197-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.20","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:56:10.810664-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.20","depends_on_id":"nyc-bike-urbanflow-lav.1","type":"blocks","created_at":"2026-01-30T16:17:56.25075-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.20","depends_on_id":"nyc-bike-urbanflow-5gw","type":"blocks","created_at":"2026-01-30T16:17:56.33029-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.21","title":"Station endpoints e2e tests","description":"Add e2e tests for station endpoints and drawer bundle flows. Validate sv-bound cache keys, evidence bundle caps, and bucket_quality fields. Include structured logs for station_key, sv, and payload sizes. This ensures inspect UX remains fast and bounded.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:56:23.178031-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:53.56187-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.21","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:56:23.179048-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.21","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.435216-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.21","depends_on_id":"nyc-bike-urbanflow-gtk.10","type":"blocks","created_at":"2026-01-30T16:18:10.723814-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.21","depends_on_id":"nyc-bike-urbanflow-a85","type":"blocks","created_at":"2026-01-30T16:18:10.804295-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.22","title":"sv token rotation + expiry tests","description":"Add unit tests for sv token rotation and expiry handling with allowlist scope binding. Validate kid selection, signature checks, and clock skew tolerance. Include structured logs for token claims and validation failures for quick diagnosis. This is critical for trust in public sv usage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:58:15.154349-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:53.621325-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.22","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:58:15.157225-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.22","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.510975-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.22","depends_on_id":"nyc-bike-urbanflow-gtk.17","type":"blocks","created_at":"2026-01-30T16:18:10.88656-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.22","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:18:10.976292-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.23","title":"Degrade ladder + sv SWR behavior tests","description":"Add integration tests for degrade ladder and stale-while-revalidate behavior. Validate that tiles degrade before control plane and that last-known-good tiles are served appropriately. Include logs for degrade triggers, rate-limit responses, and cache headers. This protects UX during overload events.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:58:26.92679-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:53.6773-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.23","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:58:26.927982-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.23","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.589937-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.23","depends_on_id":"nyc-bike-urbanflow-lav","type":"blocks","created_at":"2026-01-30T16:18:11.057908-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.23","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:18:11.148488-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.3","title":"Test harness + logging utilities","description":"Create shared test harness utilities for unit, integration, and e2e suites. Provide structured logging helpers that capture request/response, cache keys, sv, T_bucket, tile_schema, and timing. The intent is deterministic, debuggable tests across services and UI. Document logging format so results are comparable across suites.","status":"closed","priority":1,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:36:55.562491-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-31T10:14:39.644305-05:00","closed_at":"2026-01-31T10:14:39.644305-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.3","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:36:55.563258-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.4","title":"API unit tests + integration logging","description":"Add API unit tests for control plane, sv validation, allowlist enforcement, and composite tiles. These tests should assert error codes, cache headers, and bounded key behavior. Include structured logs for request parameters and cache key derivation to said tests are self-diagnosing. This is the safety net for contract changes.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:37:01.102176-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:48.100621-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.4","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:37:01.103242-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.4","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:23.962211-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.4","depends_on_id":"nyc-bike-urbanflow-5gw","type":"blocks","created_at":"2026-01-30T16:18:11.731667-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.4","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:18:11.810848-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.4","depends_on_id":"nyc-bike-urbanflow-lav.1","type":"blocks","created_at":"2026-01-30T16:18:11.889223-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.5","title":"Policy unit tests + deterministic logging","description":"Add unit tests for greedy v1 engine covering budgets, dock feasibility, conservation, and tie-break determinism. Tests should emit structured logs for each decision to aid debugging and verify deterministic outcomes. Document expected runtime bounds and edge cases (empty stations, zero capacity). This provides confidence before policy endpoints are exposed.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:37:05.832871-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:22.208568-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.5","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:37:05.833866-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.5","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.041788-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.5","depends_on_id":"nyc-bike-urbanflow-3ln","type":"blocks","created_at":"2026-01-30T16:18:11.968001-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.6","title":"Web e2e tests (playback + inspect + MapShell)","description":"Add Playwright e2e coverage for MapShell single-mount, sv playback, bucket stepping, inspect pause lock, and station drawer flows. Tests must assert that tile URLs are not mutated while inspect is open. Include detailed logs for HUD state transitions, tile URL changes, and drawer events. This validates the core UX invariants.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:37:19.578272-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:40.405126-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.6","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:37:19.579219-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.6","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.119211-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.6","depends_on_id":"nyc-bike-urbanflow-skp","type":"blocks","created_at":"2026-01-30T16:18:11.561853-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.6","depends_on_id":"nyc-bike-urbanflow-a85","type":"blocks","created_at":"2026-01-30T16:18:11.646821-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.7","title":"Policy e2e replay tests","description":"Add e2e tests for policy run and moves endpoints (202 then 200), policy move tiles, and live vs replay labeling. Include logs for sv, decision_bucket_ts, policy_version, and queue timings so failures are diagnosable. This is the integration safety net for async policy behavior. Ensure tests validate bounded cache keys and response headers.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:39:58.486801-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:22.263391-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.7","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:39:58.487815-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.7","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.196473-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.7","depends_on_id":"nyc-bike-urbanflow-9gd","type":"blocks","created_at":"2026-01-30T16:18:11.477698-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.8","title":"Control plane e2e tests (sv issuance + timeline)","description":"Add control plane e2e tests for /api/time, /api/config, /api/timeline, /api/timeline/density, and /api/search. Validate sv issuance, allowlist enforcement, and cache headers under realistic scenarios. Include detailed logs for system_id, sv, and response headers. This ensures the control plane stays the only sv issuance path.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:40:50.601316-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:48.156509-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.8","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:40:50.604119-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.8","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.274351-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.8","depends_on_id":"nyc-bike-urbanflow-5gw","type":"blocks","created_at":"2026-01-30T16:18:11.232856-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.8","depends_on_id":"nyc-bike-urbanflow-lav.1","type":"blocks","created_at":"2026-01-30T16:18:11.315022-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-gtk.9","title":"Tile e2e + performance regression tests","description":"Add e2e and performance tests for composite tiles and overlay tiles (episodes, pressure). Validate feature caps, max_bytes behavior, and cache headers. Include timing logs for DB time and response size to detect regressions. This protects tiles-first latency budgets.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:40:55.876034-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:48.210919-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-gtk.9","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:40:55.87698-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.9","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:24.355632-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-gtk.9","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:18:11.395309-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-i6o","title":"Station neighbor index builder","description":"PLAN.md sections: Policy contract + determinism; Station neighbors index builder; Tile performance discipline (deterministic inputs). Contract surfaces: policy. Cache-key impact: none (DB index + rebuild script).","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:22:11.827645-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-06T13:42:13.844881-05:00","closed_at":"2026-02-06T13:42:13.844881-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-i6o","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:22:11.829172-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-i6o","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocked-by","created_at":"2026-01-30T15:22:11.82997-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-i6o","depends_on_id":"nyc-bike-urbanflow-2zn","type":"blocked-by","created_at":"2026-01-30T15:22:11.830492-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-i6o","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.619821-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-i6o","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocks","created_at":"2026-01-30T16:16:55.485815-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-i6o","depends_on_id":"nyc-bike-urbanflow-gtk.19","type":"blocks","created_at":"2026-01-30T16:16:55.564751-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-l3m","title":"System registry + config scaffold","description":"Define the system registry and configuration loader that all pipelines trust. This records system_id, GBFS entrypoints, geographic bounds, and timezone so every other component can validate inputs and avoid unbounded keyspace. Rationale: sv issuance, allowlists, and fetchers must not accept unknown systems. Include validation rules and a clear override path for future systems, plus structured logs for registry loads and mismatches.\n\nPLAN sections:\n- Multi-system model (required for correctness + extensibility)\n- Serving tokens and namespaces\n- Security and abuse controls\n\nContract surface:\n- sv (allowlisted system_id)\n- control plane (config/time/timeline requests)\n- tiles (system_id dimension)\n\nExpected cache-key impact: yes (system_id allowlist enforced)\n","notes":"PLAN: Serving tokens \u0026 namespaces; Keyspace + cache-busting defense checklist; Stack/Profile A. Contract surface: control plane + sv/allowlist. Cache-key impact: none (registry only).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T15:20:42.238589-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T22:08:19.662464-05:00","closed_at":"2026-01-30T22:08:19.662464-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-l3m","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:20:42.239468-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-l3m","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.048993-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-lav","title":"Security + abuse controls (sv validation, allowlists, edge shield)","description":"Integrate security and abuse controls across data and control planes: allowlists, sv validation, edge or origin shielding, rate limits, degrade ladder, and admin boundary. This task ties together lav.1 and lav.2 and ensures tiles degrade first under load. Include explicit logging for degrade_level transitions and allowlist checks so behavior is observable. Rationale: protect origin, preserve bounded keyspace, and keep user UX predictable under stress.","status":"blocked","priority":1,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:23:13.777263-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-05T14:15:11.817286-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-lav","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.954718-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":29,"issue_id":"nyc-bike-urbanflow-lav","author":"Vekram1","text":"Blocked: no API server/router in repo yet to wire allowlist + sv validation + degrade ladder logging across endpoints. Child tasks (lav.1, lav.2) completed; integration awaits control/data plane handlers.","created_at":"2026-02-05T19:14:53Z"}]}
{"id":"nyc-bike-urbanflow-lav.1","title":"Namespace allowlist registry + enforcement","description":"Implement namespace_allowlist registry to enforce bounded keyspace across system_id, tile_schema, severity_version, policy_version, layers_set, and compare_mode. Reject unknown parameters with 400 to avoid caching invalid keys. Provide a clear maintenance workflow for adding new allowlist entries and logging for rejection reasons. This is required before sv issuance can be trusted in public endpoints.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:25:18.533077-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-02T14:54:47.158771-05:00","closed_at":"2026-02-02T14:54:47.158771-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-lav.1","depends_on_id":"nyc-bike-urbanflow-lav","type":"parent-child","created_at":"2026-01-30T15:25:18.534231-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-lav.1","depends_on_id":"nyc-bike-urbanflow-l3m","type":"blocks","created_at":"2026-01-30T16:17:50.570826-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-lav.1","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocks","created_at":"2026-01-30T16:17:50.649731-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":7,"issue_id":"nyc-bike-urbanflow-lav.1","author":"Vekram1","text":"Added sql/migrations/0003_namespace_allowlist.sql (namespace_allowlist table + indexes) and allowlist helper code in packages/api/src/allowlist (PgAllowlistStore + requireAllowlisted). Enforces bounded keyspace by allowing API handlers to return 400 for unknown params (not cached).","created_at":"2026-02-02T19:38:04Z"},{"id":8,"issue_id":"nyc-bike-urbanflow-lav.1","author":"Vekram1","text":"Enhanced allowlist enforcement: PgAllowlistStore now matches global OR system-scoped entries; added enforceAllowlist() helper with structured warn/info logs + Cache-Control:no-store on 400s. Updated allowlist migration uniqueness to handle NULL system_id via COALESCE.","created_at":"2026-02-02T19:40:30Z"},{"id":9,"issue_id":"nyc-bike-urbanflow-lav.1","author":"Vekram1","text":"Added packages/api/src/allowlist/http.ts (enforceAllowlistedQueryParams + canonicalizeLayersSet) to make endpoint wiring straightforward; added config/allowlist.md documenting allowlist table, global vs system-scoped behavior, and maintenance SQL examples.","created_at":"2026-02-02T19:42:30Z"}]}
{"id":"nyc-bike-urbanflow-lav.2","title":"sv token validation + origin shield","description":"Implement sv token validation (kid, expiry, signature) and origin shield headers to protect the data plane. This is a minimal Profile A defense that blocks invalid traffic early. Include rate-limit friendly error codes and structured logs for edge rejection, origin shield decisions, and token failures. Document how this integrates with CDN or edge rules without introducing Profile B infra.","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:25:24.32525-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-04T17:42:24.122945-05:00","closed_at":"2026-02-04T17:42:24.122945-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-lav.2","depends_on_id":"nyc-bike-urbanflow-lav","type":"parent-child","created_at":"2026-01-30T15:25:24.326652-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-lav.2","depends_on_id":"nyc-bike-urbanflow-gtk.17","type":"blocks","created_at":"2026-01-30T16:16:14.265039-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":14,"issue_id":"nyc-bike-urbanflow-lav.2","author":"Vekram1","text":"Added sv validation helper packages/api/src/sv/http.ts (validateSvQuery) with origin shield headers and structured logs; exported via packages/api/src/index.ts. No deps added; uses existing ServingTokenService.","created_at":"2026-02-04T22:37:52Z"},{"id":15,"issue_id":"nyc-bike-urbanflow-lav.2","author":"Vekram1","text":"Exported originShieldHeaders() from sv/http.ts for reuse; added config/origin_shield.md with Profile A guidance and headers for sv/allowlist rejections.","created_at":"2026-02-04T22:40:20Z"}]}
{"id":"nyc-bike-urbanflow-lfj","title":"Serving views + sv token issuance","description":"PLAN.md sections: Serving tokens and namespaces; Security and abuse controls; Keyspace + cache-busting defense checklist. Contract surfaces: sv, control plane. Cache-key impact: yes (sv-bound immutable keys).","status":"closed","priority":1,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:21:18.249437-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-06T14:27:21.554561-05:00","closed_at":"2026-02-06T14:27:21.554561-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-lfj","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:21:18.250321-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-lfj","depends_on_id":"nyc-bike-urbanflow-l3m","type":"blocked-by","created_at":"2026-01-30T15:21:18.250955-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-lfj","depends_on_id":"nyc-bike-urbanflow-2zn","type":"blocked-by","created_at":"2026-01-30T15:21:18.251556-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-lfj","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.336445-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-lfj","depends_on_id":"nyc-bike-urbanflow-gtk.17","type":"blocks","created_at":"2026-01-30T16:15:54.315461-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-lfj","depends_on_id":"nyc-bike-urbanflow-lav.1","type":"blocks","created_at":"2026-01-30T16:15:54.392971-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":10,"issue_id":"nyc-bike-urbanflow-lfj","author":"Vekram1","text":"Added dataset watermark schema + serving view issuance scaffolding: sql/migrations/0004_dataset_watermarks.sql (datasets + dataset_watermarks), PgServingViewStore (read watermarks, upsert serving_views), stable spec hashing, and ServingViewService.mintLiveToken() to bind required dataset watermarks into view_spec and mint sv via ServingTokenService. Notes: depends on loaders to populate dataset_watermarks and on key material provider to supply serving_keys secrets.","created_at":"2026-02-02T20:00:15Z"},{"id":11,"issue_id":"nyc-bike-urbanflow-lfj","author":"Vekram1","text":"Fixes: renamed sv/types ServingViewSpec -\u003e SvViewSpec to avoid barrel export collision; stableStringify now normalizes undefined (omit in objects, null in arrays) via normalizeForJson; ServingViewService now constructs dataset entries without explicit undefined fields and hashes/persists a normalized spec for deterministic view_spec_sha256.","created_at":"2026-02-02T21:11:57Z"},{"id":12,"issue_id":"nyc-bike-urbanflow-lfj","author":"Vekram1","text":"Pausing lfj pending loader work (2zn) to populate dataset_watermarks and control-plane endpoints (5gw) to expose sv issuance. Current state: schema + service scaffolding committed; remaining is integration.","created_at":"2026-02-02T21:39:19Z"}]}
{"id":"nyc-bike-urbanflow-mzx","title":"Trips baseline ingestion + aggregates","description":"Ingest trips baseline using completed-month selection with quality gates and privacy-safe aggregation. Produce station_outflows and station_inflows aggregates partitioned by dataset_id and month to support pressure baselines. Rationale: pressure tiles should be stable and replayable, not dependent on live trip streams. Include logs for dataset selection, quality gate failures, and aggregate row counts.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:21:30.710693-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:09.710814-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-mzx","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:21:30.712321-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-mzx","depends_on_id":"nyc-bike-urbanflow-l3m","type":"blocked-by","created_at":"2026-01-30T15:21:30.713699-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-mzx","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocked-by","created_at":"2026-01-30T15:21:30.71481-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-mzx","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.449713-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-mzx","depends_on_id":"nyc-bike-urbanflow-l3m","type":"blocks","created_at":"2026-01-30T16:16:56.454032-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-mzx","depends_on_id":"nyc-bike-urbanflow-lfj","type":"blocks","created_at":"2026-01-30T16:16:56.533111-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-skp","title":"Web app MapShell + HUD + TimeController","description":"Build the web MapShell and HUD with a single Mapbox mount per session and sv-driven playback. This is the user-facing control surface and must respect inspect lock behavior (no tile URL mutations while drawer is open). Include logging for tile URL changes, playback state transitions, and FPS telemetry to catch performance regressions. Document the state machine so future UI changes do not remount the map.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-30T15:22:46.15338-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:30.502014-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-skp","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.843884-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-skp","depends_on_id":"nyc-bike-urbanflow-5gw","type":"blocks","created_at":"2026-01-30T16:16:45.045344-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-skp","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:16:45.123751-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-skp.1","title":"MapShell singleton + sources","description":"Implement MapShell singleton and map sources/layers for stations and composite tiles. This is the structural foundation; enforce mount-once invariant to avoid expensive reloads. Document layer ordering and style assumptions to keep tile schema stable. Log map initialization and source updates for debugging.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:24:46.367695-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:30.560457-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-skp.1","depends_on_id":"nyc-bike-urbanflow-skp","type":"parent-child","created_at":"2026-01-30T15:24:46.368543-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-skp.1","depends_on_id":"nyc-bike-urbanflow-dy7","type":"blocks","created_at":"2026-01-30T16:18:26.075481-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-skp.2","title":"HUD overlays + key hints","description":"Implement HUD overlays (cards, command stack, key hints, clock chip, stats). The goal is clear, tactile controls without remounting the map. Document layout intent and how HUD elements respond to playback or inspect lock. Log HUD state changes where they affect tile requests.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:24:52.985635-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:30.615976-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-skp.2","depends_on_id":"nyc-bike-urbanflow-skp","type":"parent-child","created_at":"2026-01-30T15:24:52.986647-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-skp.2","depends_on_id":"nyc-bike-urbanflow-skp.1","type":"blocks","created_at":"2026-01-30T16:18:26.156925-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-skp.3","title":"TimeController + Inspect lock","description":"Implement TimeController state machine with sv-based playback, inspect pause lock, bucket stepping, and keyboard shortcuts. This ensures user interactions are deterministic and do not mutate tile URLs during inspect. Document state transitions and debounce rules. Include logs for state changes and bucket jumps.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-30T15:25:00.187004-05:00","created_by":"vikramoddiraju","updated_at":"2026-01-30T16:25:30.669745-05:00","dependencies":[{"issue_id":"nyc-bike-urbanflow-skp.3","depends_on_id":"nyc-bike-urbanflow-skp","type":"parent-child","created_at":"2026-01-30T15:25:00.1883-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-skp.3","depends_on_id":"nyc-bike-urbanflow-skp.1","type":"blocks","created_at":"2026-01-30T16:18:26.239268-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-skp.3","depends_on_id":"nyc-bike-urbanflow-5gw","type":"blocks","created_at":"2026-01-30T16:18:26.322053-05:00","created_by":"vikramoddiraju"}]}
{"id":"nyc-bike-urbanflow-xig","title":"Ingest pipeline unit + integration tests","description":"Add ingest unit and integration tests for GBFS fetcher, manifest writer, loader idempotency, and SCD updates. Include detailed logging for parser_fingerprint, logical_snapshot hashes, bucket_quality decisions, and monotonic repair paths. These tests ensure data correctness before tiles depend on the data. Document known edge cases (stale feeds, missing fields).","status":"closed","priority":2,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T16:17:32.138764-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-05T13:50:24.696062-05:00","closed_at":"2026-02-05T13:50:24.696062-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-xig","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T16:17:36.147298-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-xig","depends_on_id":"nyc-bike-urbanflow-3jd","type":"blocks","created_at":"2026-01-30T16:17:41.211306-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-xig","depends_on_id":"nyc-bike-urbanflow-2zn","type":"blocks","created_at":"2026-01-30T16:17:41.295633-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-xig","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocks","created_at":"2026-01-30T16:17:41.373317-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-xig","depends_on_id":"nyc-bike-urbanflow-gtk.3","type":"blocks","created_at":"2026-01-30T16:17:41.451245-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":25,"issue_id":"nyc-bike-urbanflow-xig","author":"Vekram1","text":"PLAN.md §§1.3-1.4 (idempotency, monotonicity), fixtures in 0ag.*. Contract surfaces touched: none. Cache-key impact: no.","created_at":"2026-02-05T18:50:10Z"}]}
{"id":"nyc-bike-urbanflow-y3c","title":"Introduce myself on Agent Mail","status":"closed","priority":3,"issue_type":"task","assignee":"Vekram1","owner":"oddirajuvikram@gmail.com","created_at":"2026-02-05T14:59:22.926225-05:00","created_by":"Vekram1","updated_at":"2026-02-05T15:07:43.780304-05:00","closed_at":"2026-02-05T15:07:43.780304-05:00","close_reason":"Completed"}
{"id":"nyc-bike-urbanflow-z8b","title":"Introduce on agent mail","description":"Introduce myself to other agent via MCP Agent Mail. No code changes.","status":"in_progress","priority":3,"issue_type":"task","assignee":"Vekram1","owner":"oddirajuvikram@gmail.com","created_at":"2026-01-31T11:41:09.52398-05:00","created_by":"Vekram1","updated_at":"2026-01-31T11:42:02.843198-05:00"}
{"id":"nyc-bike-urbanflow-zjr","title":"Postgres job queue + DLQ","description":"Implement the Postgres-backed job queue and DLQ using SKIP LOCKED semantics to keep Profile A infra minimal. This supports async policy runs and other bounded background tasks without introducing Redis or external workers. Include retry, backoff, and dead-letter reasons with structured logs so failures are diagnosable. Document queue guarantees (at-least-once), ordering expectations, and how it interacts with API 202 behavior.","status":"closed","priority":1,"issue_type":"task","assignee":"Vekram1","created_at":"2026-01-30T15:20:57.127374-05:00","created_by":"vikramoddiraju","updated_at":"2026-02-02T22:35:23.543823-05:00","closed_at":"2026-02-02T22:35:23.543823-05:00","close_reason":"Completed","dependencies":[{"issue_id":"nyc-bike-urbanflow-zjr","depends_on_id":"nyc-bike-urbanflow-gtk","type":"discovered-from","created_at":"2026-01-30T15:20:57.129079-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-zjr","depends_on_id":"nyc-bike-urbanflow-av9","type":"blocked-by","created_at":"2026-01-30T15:20:57.130295-05:00","created_by":"vikramoddiraju"},{"issue_id":"nyc-bike-urbanflow-zjr","depends_on_id":"nyc-bike-urbanflow-gtk","type":"parent-child","created_at":"2026-01-30T15:23:54.168758-05:00","created_by":"vikramoddiraju"}],"comments":[{"id":13,"issue_id":"nyc-bike-urbanflow-zjr","author":"Vekram1","text":"Implemented Postgres SKIP LOCKED job queue + DLQ: sql/migrations/0005_job_queue_dlq.sql and PgJobQueue (packages/api/src/jobs/queue.ts) with enqueue(dedupe), claim(CTE+UPDATE), ack, fail(backoff vs DLQ). No new deps; uses existing SqlExecutor.","created_at":"2026-02-03T02:37:58Z"}]}
